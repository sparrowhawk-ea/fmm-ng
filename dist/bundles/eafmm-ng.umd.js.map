{"version":3,"file":"eafmm-ng.umd.js","sources":["../../src/lib/fmm-ng.module.ts","../../node_modules/tslib/tslib.es6.js","../../src/lib/fmm-ng-material.ts","../../src/eafmm-ng.ts"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, NgModule, OnChanges, OnDestroy, OnInit, Output } from '@angular/core';\nimport { AbstractControl, FormGroup } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport {\n\tFmm,\n\tFmmElementFactory,\n\tFmmForm,\n\tFmmFormElementHTML,\n\tFmmFormHTML,\n\tFmmFramework,\n\tFmmMapString,\n\tFmmMinimap,\n\tFmmMinimapCreateParam,\n\tFmmPanel,\n\tFmmSnapshots,\n\tFmmStore,\n\tFmmStoreItem\n} from '@eafmm/core';\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF M M N G M I N I M A P\n// =================================================================================================================================\n@Component({ selector: 'fmm-ng-minimap', template: '' })\nexport class FmmNgMinimap implements OnChanges, OnDestroy, OnInit, Partial<FmmMinimap> {\n\t@Input() public aggregateLabels?: FmmMapString;\n\t@Input() public anchor?: HTMLDivElement;\n\t@Input() public customElementIds?: string[];\n\t@Input() public debounceMsec?: number;\n\t@Input() public dynamicLabels?: string[];\n\t@Input() public formGroup?: FormGroup;\n\t@Input() public framework?: FmmFramework;\n\t@Input() public key?: string;\n\t@Input() public namelessControls?: FmmNgNamelessControls;\n\t@Input() public ordinal?: number;\n\t@Input() public page?: HTMLDivElement;\n\t@Input() public panel?: FmmNgPanel;\n\t@Input() public title = '';\n\t@Input() public usePanelDetail?: boolean;\n\t@Input() public useWidthToScale?: boolean;\n\t@Input() public verbosity = 0;\n\t@Input() public zoomFactor?: number;\n\t@Output() public readonly update = new EventEmitter<FmmSnapshots>();\n\tprivate readonly form: HTMLFormElement;\n\n\tprivate minimap?: FmmMinimap;\n\tprivate previousKey?: string;\n\tprivate store?: Store;\n\n\t// =============================================================================================================================\n\tpublic constructor(hostRef: ElementRef) {\n\t\tlet form = hostRef.nativeElement as Element;\n\t\twhile (form && form.tagName !== 'FORM') form = form.parentElement as HTMLElement;\n\t\tif (!form) throw new Error('FmmNgMinimap not created: component must be used within FORM tag');\n\t\tthis.form = form as HTMLFormElement;\n\t}\n\n\t// =============================================================================================================================\n\tpublic destructor(): void {\n\t\tif (!this.minimap) return;\n\t\tthis.minimap.destructor();\n\t\tthis.minimap = undefined;\n\t}\n\n\t// =============================================================================================================================\n\tpublic ngOnChanges(): void {\n\t\tif (!this.minimap) return;\n\t\tif (this.key !== this.previousKey) {\n\t\t\tthis.minimap.destructor();\n\t\t\tthis.ngOnInit();\n\t\t} else if (this.store) {\n\t\t\tthis.store.namelessControls = this.namelessControls || {};\n\t\t\tthis.minimap.compose(this.customElementIds);\n\t\t}\n\t}\n\n\t// =============================================================================================================================\n\tpublic ngOnDestroy(): void {\n\t\tif (this.minimap) this.minimap.detach();\n\t\tthis.store = undefined;\n\t}\n\n\t// =============================================================================================================================\n\tpublic ngOnInit(): void {\n\t\tif (!this.formGroup) throw new Error('FmmNgMinimap not created: formGroup required');\n\t\tif (!this.store) this.store = new Store(this.formGroup);\n\t\tconst p: FmmMinimapCreateParam = {\n\t\t\taggregateLabels: this.aggregateLabels,\n\t\t\tanchor: this.anchor,\n\t\t\tdebounceMsec: this.debounceMsec,\n\t\t\tdynamicLabels: this.dynamicLabels,\n\t\t\tform: new FmmFormHTML(this.form, this.page),\n\t\t\tframework: this.framework,\n\t\t\tonUpdate: (snapshot: FmmSnapshots) => this.update.next(snapshot),\n\t\t\tordinal: this.ordinal,\n\t\t\tstore: this.store,\n\t\t\ttitle: this.title,\n\t\t\tusePanelDetail: this.usePanelDetail !== undefined,\n\t\t\tuseWidthToScale: this.useWidthToScale !== undefined,\n\t\t\tverbosity: this.verbosity,\n\t\t\tzoomFactor: this.zoomFactor\n\t\t};\n\t\tif (this.panel) {\n\t\t\tthis.minimap = G.PANELMAP.get(this.panel)?.createMinimap(p);\n\t\t} else if (p.anchor) {\n\t\t\tthis.minimap = Fmm.createMinimap(p, new ElementFactory(p.anchor as Element));\n\t\t}\n\t\tif (!this.minimap) throw new Error('FmmNgMinimap not created: panel, parent, or anchor required');\n\t\tthis.previousKey = this.key;\n\t\tthis.ngOnChanges();\n\t}\n\n\t// =============================================================================================================================\n\tpublic takeSnapshot(): boolean {\n\t\treturn this.minimap?.takeSnapshot() || false;\n\t}\n}\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF M M N G P A N E L\n// =================================================================================================================================\n@Component({ selector: 'fmm-ng-panel', template: '' })\nexport class FmmNgPanel implements OnDestroy, OnInit, Partial<FmmPanel> {\n\t@Input() public readonly detailParent?: HTMLDivElement;\n\t@Input() public readonly minimapsCount = 1;\n\t@Input() public readonly vertical?: boolean;\n\n\tpublic readonly ef: FmmElementFactory;\n\tprivate minimapPanel?: FmmPanel;\n\n\t// =============================================================================================================================\n\tpublic constructor(private readonly hostRef: ElementRef) {\n\t\tthis.ef = new ElementFactory(hostRef.nativeElement as Element);\n\t}\n\n\t// =============================================================================================================================\n\tpublic ngOnDestroy(): void {\n\t\tif (this.minimapPanel) this.minimapPanel.destructor();\n\t\tG.PANELMAP.delete(this);\n\t\tthis.minimapPanel = undefined;\n\t}\n\n\t// =============================================================================================================================\n\tpublic ngOnInit(): void {\n\t\tconst host = this.hostRef.nativeElement as HTMLDivElement;\n\t\tconst vertical = this.vertical !== undefined;\n\t\tthis.minimapPanel = Fmm.createPanel(host, this.minimapsCount, this.detailParent, vertical, this.ef);\n\t\tG.PANELMAP.set(this, this.minimapPanel);\n\t}\n\n\t// =============================================================================================================================\n\tpublic destroyDetached(): void {\n\t\treturn this.minimapPanel?.destroyDetached();\n\t}\n}\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF M M N G M O D U L E\n// =================================================================================================================================\n@NgModule({ declarations: [FmmNgMinimap, FmmNgPanel], exports: [FmmNgMinimap, FmmNgPanel] })\nexport class FmmNgModule { }\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF M M N G N A M E L E S S C O N T R O L S\n// =================================================================================================================================\nexport type FmmNgNamelessControls = Record<string, AbstractControl>;\n\n// =================================================================================================================================\n// =================================================================================================================================\n// =================================================\tP R I V A T E\t============================================================\n// =================================================================================================================================\n// =================================================================================================================================\n\n// =================================================================================================================================\n//\t\t\t\t\t\tE L E M E N T F A C T O R Y\n// =================================================================================================================================\nclass ElementFactory implements FmmElementFactory {\n\tprivate readonly ngContentAttribute: string;\n\n\t// =============================================================================================================================\n\tpublic constructor(p: Element) {\n\t\tlet ngContentAttribute: string | undefined = undefined; // set attribute on elements to use non-global CSS\n\t\tif (Element.prototype.getAttributeNames !== undefined) {\n\t\t\tfor (; p && !ngContentAttribute; p = p.parentElement as Element) {\n\t\t\t\tconst names = p.getAttributeNames();\n\t\t\t\tngContentAttribute = names.find((a: string) => a.startsWith('_ngcontent-'));\n\t\t\t}\n\t\t} else {\n\t\t\tfor (; p && !ngContentAttribute; p = p.parentElement as Element) {\n\t\t\t\tconst names = Array.prototype.map.call(p.attributes, (a: Attr) => a.name) as string[];\n\t\t\t\tngContentAttribute = names.find((a: string) => a.startsWith('_ngcontent-'));\n\t\t\t}\n\t\t}\n\t\tif (!ngContentAttribute) throw new Error('FormMinimap: missing _ngcontent- attribute');\n\t\tthis.ngContentAttribute = ngContentAttribute;\n\t}\n\n\t// =============================================================================================================================\n\tpublic createElement(tagName: string) {\n\t\tconst e = document.createElement(tagName);\n\t\te.setAttribute(this.ngContentAttribute, '');\n\t\treturn e;\n\t}\n\n\t// =============================================================================================================================\n\tpublic createElementNS(namespaceURI: string, qualifiedName: string) {\n\t\tconst e = document.createElementNS(namespaceURI, qualifiedName);\n\t\te.setAttribute(this.ngContentAttribute, '');\n\t\treturn e;\n\t}\n}\n\n// =================================================================================================================================\n//\t\t\t\t\t\tG\n// =================================================================================================================================\nconst G: {\n\tPANELMAP: WeakMap<FmmNgPanel, FmmPanel>;\n} = {\n\tPANELMAP: new WeakMap()\n};\n\n// =================================================================================================================================\n//\t\t\t\t\t\tS T O R E I T E M\n// =================================================================================================================================\nclass StoreItem implements FmmStoreItem {\n\tprivate readonly se?: HTMLSelectElement;\n\n\t// =============================================================================================================================\n\tpublic constructor(\n\t\te: HTMLElement,\n\t\tlistener: EventListener,\n\t\tprivate readonly name: string,\n\t\tprivate readonly control: AbstractControl\n\t) {\n\t\tthis.se = e.tagName === 'SELECT' ? (e as HTMLSelectElement) : undefined;\n\t\tconst subscription = new Subscription();\n\t\tsubscription.add(this.control.statusChanges.subscribe(listener));\n\t\tsubscription.add(this.control.valueChanges.subscribe(listener));\n\t\tthis.destructor = () => subscription.unsubscribe();\n\t}\n\n\t// =============================================================================================================================\n\tpublic destructor(): void {\n\t\t// function body overwritten in constructor\n\t}\n\n\t// =============================================================================================================================\n\tpublic getError(hasValue: boolean): string {\n\t\tconst errors = this.control.errors;\n\t\tlet keys = errors ? Object.keys(errors) : [];\n\t\tif (hasValue && keys.length) keys = keys.filter(k => k !== 'required'); // IE11 SELECT bug\n\t\treturn keys.length ? keys.join(',') : '';\n\t}\n\n\t// =============================================================================================================================\n\tpublic getName(): string {\n\t\treturn this.name;\n\t}\n\n\t// =============================================================================================================================\n\tpublic getValue() {\n\t\tconst value = this.control.value as unknown;\n\t\tif (!value) return undefined;\n\t\tif (!this.se) return value;\n\t\tif (!this.se.multiple) return [this.se.selectedIndex];\n\t\tconst indexes: number[] = []; // FormControl for multiselect doesn't update when selected option is removed dynamically\n\t\tArray.from(this.se.options).forEach((o, i) => o.selected && indexes.push(i));\n\t\treturn indexes;\n\t}\n\n\t// =============================================================================================================================\n\tpublic isDisabled() {\n\t\treturn this.control.disabled;\n\t}\n}\n\n// =================================================================================================================================\n//\t\t\t\t\t\tS T O R E\n// =================================================================================================================================\nclass Store implements FmmStore {\n\tpublic namelessControls: FmmNgNamelessControls = {};\n\tprivate readonly listener: EventListener;\n\tprivate readonly minimaps: Set<FmmMinimap> = new Set();\n\n\t// =============================================================================================================================\n\tpublic constructor(private readonly formGroup: FormGroup) {\n\t\tthis.listener = () => this.minimaps.forEach(m => m.takeSnapshot());\n\t}\n\n\t// =============================================================================================================================\n\tpublic createStoreItem(_: FmmForm, e: FmmFormElementHTML): FmmStoreItem | undefined {\n\t\tconst name = e.getAttribute('name') || e.id;\n\t\tconst control = name ? this.namelessControls[name] : undefined;\n\t\tif (control) return new StoreItem(e, this.listener, name, control);\n\t\tlet inFormArray = false;\n\t\tlet path: string | undefined;\n\t\tlet fc = e;\n\t\tfor (; fc && fc.tagName !== 'FORM'; fc = fc.parentElement as HTMLElement) {\n\t\t\tpath = fc.getAttribute('formcontrolname') || fc.dataset.formcontrolname;\n\t\t\tif (path) break;\n\t\t\tinFormArray = fc.dataset.fmminformarray !== undefined;\n\t\t\tif (inFormArray) break;\n\t\t}\n\t\tfor (let p = fc?.parentElement; path && p && p.tagName !== 'FORM'; p = p.parentElement) {\n\t\t\tlet pName = p.getAttribute('formarrayname');\n\t\t\tif (!pName) {\n\t\t\t\tpName = p.getAttribute('formgroupname');\n\t\t\t\tif (pName) path = pName + '.' + path;\n\t\t\t} else if (!inFormArray) {\n\t\t\t\tpath = pName + '.' + path;\n\t\t\t} else {\n\t\t\t\tinFormArray = false;\n\t\t\t\tpath = pName;\n\t\t\t}\n\t\t}\n\t\tconst ac = path ? this.formGroup.get(path) : undefined;\n\t\treturn path && ac ? new StoreItem(e, this.listener, path, ac) : undefined;\n\t}\n\n\t// =============================================================================================================================\n\tpublic getError(_: FmmForm, item: StoreItem, hasValue: boolean) {\n\t\treturn item.getError(hasValue);\n\t}\n\n\t// =============================================================================================================================\n\tpublic getName(_: FmmForm, item: StoreItem): string {\n\t\treturn item.getName();\n\t}\n\n\t// =============================================================================================================================\n\tpublic getValue(_: FmmForm, item: StoreItem) {\n\t\treturn item.getValue();\n\t}\n\n\t// =============================================================================================================================\n\tpublic isDisabled(_: FmmForm, item: StoreItem) {\n\t\treturn item.isDisabled();\n\t}\n\n\t// =============================================================================================================================\n\tpublic notifyMinimapOnUpdate(minimap: FmmMinimap, on: boolean) {\n\t\tif (on) this.minimaps.add(minimap);\n\t\telse this.minimaps.delete(minimap);\n\t}\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import { FmmFormElementHTML, FmmFramework, FmmFrameworkItem } from '@eafmm/core';\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF M M N G M A T E R I A L\n// =================================================================================================================================\nexport const FmmNgMaterial: FmmFramework = {\n\tcreateFrameworkItem(_: string, e: FmmFormElementHTML): FmmFrameworkItem {\n\t\tconst eTag = e.tagName;\n\t\tif (eTag === 'INPUT' && e.classList.contains('mat-autocomplete-trigger')) return new FrameworkItemAutoComplete(e);\n\t\treturn eTag === 'MAT-SELECT' ? new FrameworkItemSelect(e) : new FrameworkItem(e);\n\t}\n};\n\n// =================================================================================================================================\n// =================================================================================================================================\n// =================================================\tP R I V A T E\t============================================================\n// =================================================================================================================================\n// =================================================================================================================================\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF R A M E W O R K I T E M\n// =================================================================================================================================\nclass FrameworkItem implements FmmFrameworkItem {\n\tprivate readonly envelope: HTMLElement;\n\tprivate readonly forValidation: HTMLElement;\n\tprivate readonly label?: HTMLElement;\n\n\t// =============================================================================================================================\n\tpublic constructor(e: HTMLElement) {\n\t\tlet field = e.parentElement;\n\t\twhile (field && field.tagName !== 'MAT-FORM-FIELD') field = field.parentElement;\n\t\tlet tag = e;\n\t\twhile (tag && !tag.tagName.startsWith('MAT-')) tag = tag.parentElement as HTMLElement;\n\t\tif (!field) {\n\t\t\tthis.envelope = this.forValidation = tag || e;\n\t\t} else {\n\t\t\tthis.forValidation = field;\n\t\t\tthis.envelope = !tag || field.querySelectorAll(tag.tagName).length < 2 ? field : tag || e;\n\t\t\tconst labels = field.querySelectorAll('LABEL');\n\t\t\tif (labels.length === 1) this.label = labels[0] as HTMLElement;\n\t\t}\n\t}\n\n\t// =============================================================================================================================\n\tpublic destructor() {\n\t\t/**/\n\t}\n\n\t// =============================================================================================================================\n\tpublic getEnvelope(_: string, _e: FmmFormElementHTML, _l: FmmFormElementHTML) {\n\t\treturn this.envelope;\n\t}\n\n\t// =============================================================================================================================\n\tpublic getError(_: string, _e: FmmFormElementHTML, _n: FmmFormElementHTML, _v: boolean) {\n\t\treturn this.forValidation.querySelector('MAT-ERROR')?.textContent || '';\n\t}\n\n\t// =============================================================================================================================\n\tpublic getLabel(_: string, _e: FmmFormElementHTML) {\n\t\treturn this.label;\n\t}\n\n\t// =============================================================================================================================\n\tpublic getValue(_: string, _e: FmmFormElementHTML, _n: FmmFormElementHTML, _l: string): string {\n\t\treturn '';\n\t}\n}\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF R A M E W O R K I T E M A U T O C O M P L E T E\n// =================================================================================================================================\nclass FrameworkItemAutoComplete extends FrameworkItem {\n\t// =============================================================================================================================\n\tpublic getValue(_: string, e: FmmFormElementHTML, _n: FmmFormElementHTML, _l: string) {\n\t\treturn (e as HTMLInputElement).value;\n\t}\n}\n\n// =================================================================================================================================\n//\t\t\t\t\t\tF R A M E W O R K I T E M S E L E C T\n// =================================================================================================================================\nclass FrameworkItemSelect extends FrameworkItem {\n\t// =============================================================================================================================\n\tpublic getValue(_: string, e: FmmFormElementHTML, _n: FmmFormElementHTML, _l: string) {\n\t\treturn e.querySelector('.mat-select-value-text')?.textContent || '';\n\t}\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","FmmFormHTML","Fmm","Component","ElementRef","Input","Output","NgModule","Subscription"],"mappings":"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"}